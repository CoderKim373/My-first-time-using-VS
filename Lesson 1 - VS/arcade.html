<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonic Arcade - The Sonic Team</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ffeb3b;
            --secondary-color: #ff9800;
            --accent-color: #2196f3;
            --text-color: #333;
            --bg-color: #ffffff;
            --section-bg: rgba(255, 255, 255, 0.95);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 25%, var(--accent-color) 50%, #9c27b0 75%, #4caf50 100%);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        nav {
            width: 100%;
            background: linear-gradient(90deg, #ffeb3b, #ff9800, #2196f3);
            padding: 10px 0;
            position: fixed;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .nav-title {
            color: #fff;
            font-size: 1.5em;
            margin: 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .nav-menu {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
        }

        .nav-menu li {
            margin: 0 8px;
        }

        .nav-menu a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .nav-menu a:hover {
            background: rgba(255, 235, 59, 0.9);
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 80px auto 0;
            background: var(--section-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            font-size: 3em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .game-card {
            background: var(--section-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid var(--secondary-color);
            transition: all 0.3s ease;
            text-align: center;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .game-card h2 {
            color: var(--accent-color);
            margin-bottom: 15px;
        }

        .play-btn {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: #333;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
            margin: 10px;
        }

        .play-btn:hover {
            transform: scale(1.05);
        }

        .character-select {
            display: none;
            margin: 15px 0;
        }

        .character-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .character-btn:hover {
            background: var(--primary-color);
            color: #333;
        }

        .game-canvas {
            display: none;
            border: 3px solid var(--accent-color);
            border-radius: 10px;
            margin: 20px auto;
        }

        .login-prompt {
            background: #ffcdd2;
            border: 2px solid #f44336;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            color: #d32f2f;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <h1 class="nav-title">The Sonic Team</h1>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="sonic.html">Sonic</a></li>
                <li><a href="tails.html">Tails</a></li>
                <li><a href="knuckles.html">Knuckles</a></li>
                <li><a href="shadow.html">Shadow</a></li>
                <li><a href="games.html">Sonic Games</a></li>
                <li><a href="movies.html">Movies</a></li>
                <li><a href="login.html" id="authLink">Login</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>🎮 Sonic Arcade</h1>

        <div class="games-grid">
            <div class="game-card">
                <h2>⚡ Sonic Flappy</h2>
                <p>Help your favorite Sonic character navigate through obstacles! Choose your hero and see how far you can go!</p>
                <button class="play-btn" onclick="startGame('flappy')">Play Game</button>
                <div class="character-select" id="flappy-select">
                    <p>Choose your character:</p>
                    <button class="character-btn" onclick="selectCharacter('flappy', 'sonic')">Sonic</button>
                    <button class="character-btn" onclick="selectCharacter('flappy', 'tails')">Tails</button>
                    <button class="character-btn" onclick="selectCharacter('flappy', 'knuckles')">Knuckles</button>
                    <button class="character-btn" onclick="selectCharacter('flappy', 'shadow')">Shadow</button>
                </div>
                <canvas class="game-canvas" id="flappy-canvas" width="400" height="300"></canvas>
            </div>

            <div class="game-card">
                <h2>🎈 Balloon Pop</h2>
                <p>Use your nerf gun to pop balloons! Choose your character and show off your shooting skills!</p>
                <button class="play-btn" onclick="startGame('balloon')">Play Game</button>
                <div class="character-select" id="balloon-select">
                    <p>Choose your character:</p>
                    <button class="character-btn" onclick="selectCharacter('balloon', 'sonic')">Sonic</button>
                    <button class="character-btn" onclick="selectCharacter('balloon', 'tails')">Tails</button>
                    <button class="character-btn" onclick="selectCharacter('balloon', 'knuckles')">Knuckles</button>
                    <button class="character-btn" onclick="selectCharacter('balloon', 'shadow')">Shadow</button>
                </div>
                <canvas class="game-canvas" id="balloon-canvas" width="400" height="300"></canvas>
            </div>

            <div class="game-card">
                <h2>💎 Ring Collector</h2>
                <p>Collect as many rings as possible while avoiding obstacles! Classic Sonic gameplay!</p>
                <button class="play-btn" onclick="startGame('rings')">Play Game</button>
                <div class="character-select" id="rings-select">
                    <p>Choose your character:</p>
                    <button class="character-btn" onclick="selectCharacter('rings', 'sonic')">Sonic</button>
                    <button class="character-btn" onclick="selectCharacter('rings', 'tails')">Tails</button>
                    <button class="character-btn" onclick="selectCharacter('rings', 'knuckles')">Knuckles</button>
                    <button class="character-btn" onclick="selectCharacter('rings', 'shadow')">Shadow</button>
                </div>
                <canvas class="game-canvas" id="rings-canvas" width="400" height="300"></canvas>
            </div>

            <div class="game-card">
                <h2>⚡ Speed Run</h2>
                <p>Race against time! Navigate through loops and obstacles at super speed!</p>
                <button class="play-btn" onclick="startGame('speed')">Play Game</button>
                <div class="character-select" id="speed-select">
                    <p>Choose your character:</p>
                    <button class="character-btn" onclick="selectCharacter('speed', 'sonic')">Sonic</button>
                    <button class="character-btn" onclick="selectCharacter('speed', 'tails')">Tails</button>
                    <button class="character-btn" onclick="selectCharacter('speed', 'knuckles')">Knuckles</button>
                    <button class="character-btn" onclick="selectCharacter('speed', 'shadow')">Shadow</button>
                </div>
                <canvas class="game-canvas" id="speed-canvas" width="400" height="300"></canvas>
            </div>
        </div>
    </div>

    <script>
        let isLoggedIn = false;
        
        // Check login status
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('sonicUser') || '{}');
            isLoggedIn = user.loggedIn || false;

            // Redirect if not logged in
            if (!isLoggedIn) {
                alert('You must be logged in to access the Arcade. Redirecting to login page...');
                window.location.href = 'login.html';
                return;
            }

            // Update auth link
            const authLink = document.getElementById('authLink');
            if (isLoggedIn) {
                authLink.textContent = 'My Account';
                authLink.href = 'account.html';
            }
        });

        function startGame(gameType) {
            if (!isLoggedIn) {
                showLoginPrompt(gameType);
                return;
            }
            document.getElementById(gameType + '-select').style.display = 'block';
        }

        function showLoginPrompt(gameType) {
            const gameCard = document.querySelector(`#${gameType}-select`).parentElement;
            let existingPrompt = gameCard.querySelector('.login-prompt');
            if (existingPrompt) existingPrompt.remove();
            
            const prompt = document.createElement('div');
            prompt.className = 'login-prompt';
            prompt.innerHTML = `
                <strong>⚠️ Login Required</strong><br>
                Please <a href="login.html" style="color: #d32f2f; font-weight: bold;">sign up or login</a> to play games!
            `;
            gameCard.appendChild(prompt);
        }

        function selectCharacter(gameType, character) {
            localStorage.setItem('selectedCharacter', character);
            window.location.href = `${gameType}-game.html`;
        }

        function getCharacterColor(character) {
            const colors = {
                sonic: '#0066ff',
                tails: '#ff9900',
                knuckles: '#ff0000',
                shadow: '#333333'
            };
            return colors[character] || '#0066ff';
        }

        function drawFlappyGame(ctx, character) {
            // Draw pipes
            ctx.fillStyle = '#4caf50';
            ctx.fillRect(300, 0, 50, 100);
            ctx.fillRect(300, 200, 50, 100);
            
            ctx.fillStyle = '#333';
            ctx.fillText('Navigate between pipes!', 150, 50);
        }

        function drawBalloonGame(ctx, character) {
            // Draw balloons
            ctx.fillStyle = '#ff4444';
            ctx.beginPath();
            ctx.arc(200, 80, 20, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = '#4444ff';
            ctx.beginPath();
            ctx.arc(300, 120, 20, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = '#333';
            ctx.fillText('Pop the balloons!', 150, 50);
        }

        function drawRingsGame(ctx, character) {
            // Draw rings
            ctx.strokeStyle = '#ffeb3b';
            ctx.lineWidth = 4;
            for (let i = 0; i < 3; i++) {
                ctx.beginPath();
                ctx.arc(150 + i * 80, 100, 15, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            ctx.fillStyle = '#333';
            ctx.fillText('Collect the rings!', 150, 50);
        }

        function drawSpeedGame(ctx, character) {
            // Draw track
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(0, 250);
            ctx.lineTo(400, 250);
            ctx.stroke();
            
            // Draw loop
            ctx.beginPath();
            ctx.arc(300, 200, 50, 0, Math.PI);
            ctx.stroke();
            
            ctx.fillStyle = '#333';
            ctx.fillText('Speed through the track!', 150, 50);
        }
    </script>
</body>
</html>